https://wifizoo.org/2023/07/03/clearpass-intune-and-mac-randomisation/#comment-12130
https://github.com/muink/luci-app-netdata
https://wifizoo.org/2023/05/12/yet-another-ser2net-tutorial/
https://bugworkshop.blogspot.com/2013/04/diy-ser2net.html

https://www.freepik.com/icons/gateway#uuid=c06a22e1-197b-4be4-b9d7-99f212f6d522
https://jamespolik.pixnet.net/blog/posts/17347613100
https://deepwiki.com/Telecominfraproject/wlan-cloud-userportal/8-external-service-integration


https://images.linuxcontainers.org/images/openwrt/

é€™å€‹æƒ…å¢ƒæˆ‘æ‡‚äº†ï¼Œè€Œä¸”ä½ é€™å€‹æ˜¯**æ¨™æº– FAE / é‡ç”¢åˆå§‹åŒ–æµç¨‹**ï¼Œä¸æ˜¯ç¶²è·¯ç†è«–é¡Œ ğŸ‘
æˆ‘ç›´æ¥çµ¦ä½  **ã€ŒçœŸçš„åœ¨ç¾å ´å¯ç”¨ã€ç©©å®šã€ä¸æœƒæéŒ¯è¨­å‚™ã€çš„æ–¹æ³•**ã€‚

---

# ğŸ¯ ä½ çš„ç›®æ¨™ï¼ˆæˆ‘å¹«ä½ é‡æ–°å®šç¾©ä¸€æ¬¡ï¼‰

* æ‰€æœ‰è¨­å‚™ **å‡ºå» é è¨­ IP éƒ½ä¸€æ¨£**ï¼ˆä¾‹å¦‚ `192.168.1.10`ï¼‰
* **åŒä¸€æ™‚é–“åªèƒ½æ¥ä¸€é¡†æˆ–å¤šé¡†**
* ä½ è¦ï¼š

  1. æ˜ç¢ºæŒ‡å®šã€Œç¾åœ¨è¨­å®šçš„æ˜¯å“ªä¸€é¡†ã€ï¼ˆé  MACï¼‰
  2. å¹«å®ƒæ”¹æˆ **æ¥­ä¸»æŒ‡å®šçš„æ–° IP / ç¶²æ®µ**
  3. ä¸€é¡†ä¸€é¡†åšï¼Œä¸æœƒèª¤åˆ·

---

## âœ… æœ€ç©©å®šã€æœ€å¸¸ç”¨çš„æ–¹æ³•ï¼ˆå¼·çƒˆå»ºè­°ï¼‰

## **æ–¹æ³• Aï¼šARP ç¶ MAC â†’ è¨­å®š â†’ è§£é™¤ï¼ˆFAE æ¨™æº–ï¼‰**

### ğŸ” æ¯ä¸€é¡†è¨­å‚™çš„æ¨™æº–æµç¨‹

### â‘  å…ˆçœ‹åˆ°æ‰€æœ‰ã€Œé è¨­ IP çš„è¨­å‚™ã€

```bash
arp-scan --localnet | grep 192.168.1.10
```

ä½ æœƒçœ‹åˆ°é¡ä¼¼ï¼š

```
192.168.1.10  aa:bb:cc:dd:ee:01
192.168.1.10  aa:bb:cc:dd:ee:02
```

---

### â‘¡ **æŒ‡å®šä½ è¦è¨­å®šçš„é‚£ä¸€é¡†ï¼ˆé  MACï¼‰**

```bash
sudo ip neigh replace 192.168.1.10 lladdr aa:bb:cc:dd:ee:01 dev eth0 nud permanent
```

ğŸ“Œ å¾ç¾åœ¨é–‹å§‹ï¼š

* ä½ é€£ `192.168.1.10`
* **åªæœƒé€£åˆ°é€™é¡† MAC**

---

### â‘¢ é€£é€²å»è¨­å®šæ–° IPï¼ˆSSH / Web / APIï¼‰

```bash
ssh root@192.168.1.10
```

ä¾‹ï¼š

```bash
uci set network.lan.ipaddr=10.20.30.5
uci set network.lan.netmask=255.255.255.0
uci commit network
/etc/init.d/network restart
```

æˆ– netplan / ifconfig / vendor CLIï¼ˆä¾è¨­å‚™ï¼‰

---

### â‘£ æ¸…æ‰ ARP ç¶å®šï¼ˆéå¸¸é‡è¦ï¼‰

```bash
sudo ip neigh del 192.168.1.10 dev eth0
```

---

### â‘¤ æ›ä¸‹ä¸€é¡†è¨­å‚™ï¼Œé‡è¤‡ â‘¡ï½â‘£

---

## âœ… æ–¹æ³• Bï¼šä¸€é¡†ä¸€é¡†æ¥ï¼ˆæœ€å®‰å…¨ã€æœ€æ…¢ï¼‰

* åªæ’ **ä¸€é¡†è¨­å‚™**
* è¨­å®Œ â†’ æ›ä¸‹ä¸€é¡†

ğŸ“Œ å„ªé»ï¼šé›¶é¢¨éšª
ğŸ“Œ ç¼ºé»ï¼šæ…¢

---

## âš ï¸ ä¸å»ºè­°çš„æ–¹æ³•ï¼ˆæœƒå‡ºäº‹ï¼‰

| æ–¹æ³•            | ç‚ºä»€éº¼ä¸è¡Œ     |
| ------------- | --------- |
| åŒæ™‚å¤šé¡† + ä¸ç¶ ARP | ä¸€å®šåˆ·éŒ¯      |
| ç”¨ ping ç¢°é‹æ°£    | ARP æœƒäº‚è·³   |
| é  hostname    | é è¨­éƒ½ä¸€æ¨£     |
| é ç€è¦½å™¨          | cache æœƒé¨™ä½  |

---

## ğŸ§° æˆ‘å¹«ä½ é€²éšä¸€é»ï¼ˆè‡ªå‹•åŒ–ï¼‰

### ğŸ”§ ä¸€è¡Œã€ŒæŒ‡å®š MAC â†’ è¨­ IPã€è…³æœ¬ï¼ˆç¯„ä¾‹ï¼‰

```bash
#!/bin/sh
MAC="$1"
NEW_IP="$2"
IFACE="eth0"
DEFAULT_IP="192.168.1.10"

ip neigh replace $DEFAULT_IP lladdr $MAC dev $IFACE nud permanent
ssh root@$DEFAULT_IP "set-ip $NEW_IP"
ip neigh del $DEFAULT_IP dev $IFACE
```

ç”¨æ³•ï¼š

```bash
./provision.sh aa:bb:cc:dd:ee:01 10.20.30.5
```


## ğŸ§  é‡ç”¢ç­‰ç´šå»ºè­°ï¼ˆå¦‚æœä½ è¦å†å‡ç´šï¼‰

* DHCP serverï¼š**ä¾ MAC ç™¼è‡¨æ™‚ IP**
* AC æƒæ AP MAC â†’ ç™¼è¨­å®š
* é–‹æ©Ÿå¾Œè‡ªå‹•æ› IPï¼ˆé¿å…é è¨­ IP æ°¸ä¹…å­˜åœ¨ï¼‰

* âœ… å¹«ä½ å¯« **å®Œæ•´åˆå§‹åŒ–å·¥å…·ï¼ˆmenu / CLIï¼‰**
* âœ… å¹«ä½ è¨­è¨ˆ **AC è‡ªå‹•é…å° APï¼ˆä¸é  IPï¼‰**
* âœ… å¹«ä½ æŠŠé€™å¥—æµç¨‹å¯«é€² README / SOP

åªè¦ä¸€å¥è©±è·Ÿæˆ‘èªªï¼š
ğŸ‘‰ **ã€Œæˆ‘è¦è‡ªå‹•åŒ–è…³æœ¬ç‰ˆã€æˆ–ã€Œæˆ‘è¦ SOP æ–‡ä»¶ç‰ˆã€**
